<!DOCTYPE html>
    <!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2018-10-03 
 | Rendered using Hippo Forge Maven Skin 2.0.1 based on Apache Maven Fluido Skin
-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                  <meta name="Date-Revision-yyyymmdd" content="20181003" />
              <meta http-equiv="Content-Language" content="en" />
      <title>Hippo Repository JCR/WebDAV Support &#x2013; How to Use Remote Repository</title>
  <link rel="stylesheet" href="./css/forge-maven-skin-syntaxhighlighter-2.0.1.min.css"/>
  <link rel="stylesheet" href="./css/forge-maven-skin-2.0.1.min.css"/>
  <link rel="stylesheet" href="./css/site.css" />
  <link rel="stylesheet" href="./css/print.css" media="print" />
  
  <script type="text/javascript" src="./js/forge-maven-skin-syntaxhighlighter-2.0.1.min.js"></script>
  <script type="text/javascript" src="./js/forge-maven-skin-2.0.1.min.js"></script>

    </head>
<body class="topBarDisabled">
                        <a href="https://github.com/onehippo-forge/hippo-jcr-over-webdav">
    <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
         src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
         alt="Fork me on GitHub">
  </a>
          <div class="container-fluid">
  <div id="banner">
    <div id="logo">
      <a href="http://www.github.com/onehippo-forge">
        <img src="./images/hipposkin/hippo-forge-logo.png" alt="Hippo Forge Logo" />
      </a>
    </div>
    <div class="pull-left">              <div id="bannerLeft">    <h1>Hippo Repository JCR/WebDAV Support</h1>
    </div>
              </div>
    <div class="pull-right"></div>
    <div class="clear"><hr/></div>
  </div>

  <div id="breadcrumbs">
    <div class="links">
      <a href="https://www.bloomreach.com">bloomreach.com</a>
      <a href="https://www.onehippo.org">onehippo.org</a>
    </div>
    <ul class="breadcrumb">
    
  <li id="publishDate">published: 2018-10-03  
  </li>
  
        
            </ul>
    <div class="clear"><hr/></div>
  </div>
<div class="row-fluid">
  <div id="leftColumn" class="span2">
    <div class="well sidebar-nav">
    
    <ul class="nav nav-list">
            <li class="nav-header">Main</li>
              <li>  <a href="index.html" title="Welcome">  <span class="none"></span>  Welcome</a>  </li>
        <li>  <a href="install.html" title="Installation">  <span class="none"></span>  Installation</a>  </li>
        <li class="active">  <a href="#"><span class="none"></span>How to Use Remote Repository</a>
  </li>
        <li>  <a href="cmd-examples.html" title="Command Line Examples">  <span class="none"></span>  Command Line Examples</a>  </li>
        <li>  <a href="simple-webdav-support.html" title="Simple WebDAV Support">  <span class="none"></span>  Simple WebDAV Support</a>  </li>
        <li>  <a href="release-notes.html" title="Release Notes">  <span class="none"></span>  Release Notes</a>  </li>
                  <li class="nav-header">Autogenerated Docs</li>
                                                                                                                                                                                                                                                    <li>  <a href="project-info.html" title="Project Information">  <span class="icon-chevron-right"></span>  Project Information</a>  </li>
                                          <li>  <a href="project-reports.html" title="Project Reports">  <span class="icon-chevron-right"></span>  Project Reports</a>  </li>
        </ul>
    
          <hr />
      <div id="poweredBy">
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
              <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">  <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />  </a>
          </div>
    </div>
  </div>
  <div id="bodyColumn"  class="span10" >
    
  
    <div class="section">
<h2><a name="How_to_Use_Remote_Repository"></a>How to Use Remote Repository</h2>

      
<div class="section">
<h3><a name="Add_Dependencies_in_Web_Application"></a>Add Dependencies in Web Application</h3>
        
<p>
          Add the following dependencies into your Web Application (e.g., '/site') where you want a remote repository.
        </p>
        
<div class="brush: xml">
          
<div class="source"><pre>

    &lt;!-- SNIP --&gt;

    &lt;!--
      Infer jackrabbit.version from hippo.jackrabbit.version in your project.
      For example, you can take &quot;2.16.1&quot; for jackrabbit.version, from &quot;2.16.1-h2&quot; of hippo.jackrabbit.version property here.
    --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.jackrabbit&lt;/groupId&gt;
      &lt;artifactId&gt;jackrabbit-jcr2dav&lt;/artifactId&gt;
      &lt;version&gt;${jackrabbit.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.onehippo.forge.hipporepojcrdav&lt;/groupId&gt;
      &lt;artifactId&gt;hipporepojcrdav-connector&lt;/artifactId&gt;
      &lt;version&gt;${forge.hipporepojcrdav.version}&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- SNIP --&gt;

          </pre></div>
        </div>
      </div>

      
<div class="section">
<h3><a name="Configuring_JNDI_Resource_of_HippoRepository"></a>Configuring JNDI Resource of HippoRepository</h3>
        
<p>
          In order to use a remote Hippo Repository in your web application,
          you have to configure JNDI Resource.
          As an example, in Tomcat, you can add the following JNDI Resource in the context configuration like the following example:
        </p>
        
<div class="brush: xml">
          
<div class="source"><pre>
&lt;Context crossContext=&quot;true&quot;&gt;

  &lt;!-- SNIP --&gt;

  &lt;Resource name=&quot;jcr/davexRepository&quot; auth=&quot;Container&quot;
            type=&quot;org.onehippo.forge.repository.connector.remoting.davex.HippoJcrRepository&quot;
            factory=&quot;org.onehippo.forge.repository.connector.remoting.davex.DavExHippoRepositoryBasedHippoJcrRepositoryFactory&quot;
            repositoryAddress=&quot;http://localhost:8080/cms/server&quot; /&gt;

  &lt;!-- SNIP --&gt;

&lt;/Context&gt;
          </pre></div>
        </div>
      </div>

      
<div class="section">
<h3><a name="Add_JNDI_Resource_Reference_in_web.xml"></a>Add JNDI Resource Reference in web.xml</h3>
        
<p>
          In order to use a remote Hippo Repository in your web application,
          you also have to add JNDI Resource Reference element in web.xml like the following example:
        </p>
        
<div class="brush: xml">
          
<div class="source"><pre>

  &lt;resource-ref&gt;
    &lt;description&gt;JCR Repository&lt;/description&gt;
    &lt;res-ref-name&gt;jcr/davexRepository&lt;/res-ref-name&gt;
    &lt;res-type&gt;org.onehippo.forge.repository.connector.remoting.davex.HippoJcrRepository&lt;/res-type&gt;
    &lt;res-auth&gt;Container&lt;/res-auth&gt;
  &lt;/resource-ref&gt;

          </pre></div>
        </div>
      </div>

      
<div class="section">
<h3><a name="GettingUsing_JCR_Repository_directly_from_JNDI_Resource"></a>Getting/Using JCR Repository directly from JNDI Resource</h3>
        
<div class="brush: java">
          
<div class="source"><pre>
Context initCtx = new InitialContext();
Context envCtx = (Context) initCtx.lookup(&quot;java:comp/env&quot;);
Repository repository = (Repository) envCtx.lookup(&quot;jcr/davexRepository&quot;);
          </pre></div>
        </div>
      </div>

      
<div class="section">
<h3><a name="GettingUsing_Hippo_Repository_directly_through_HippoRepositoryFactory_with_java:..._repository_address"></a>Getting/Using Hippo Repository directly through HippoRepositoryFactory with 'java:...' repository address</h3>
        
<div class="brush: java">
          
<div class="source"><pre>
HippoRepository hippoRepository = HippoRepositoryFactory.getHippoRepository(&quot;java:comp/env/jcr/davexRepository&quot;);
          </pre></div>
        </div>
      </div>

      
<div class="section">
<h3><a name="CreatingUsing_Hippo_Repository_directly_through_DavExHippoRepositorycreate.."></a>Creating/Using Hippo Repository directly through DavExHippoRepository#create(..)</h3>
        
<div class="brush: java">
          
<div class="source"><pre>
HippoRepository hippoRepository = org.onehippo.forge.repository.connector.remoting.davex.DavExHippoRepository.create(&quot;http://localhost:8080/cms/server&quot;);
          </pre></div>
        </div>
      </div>

    </div>
  

    </div>
    </div>
    </div>
    <hr/>
    <footer>
    <div class="container-fluid">
      <div class="row-fluid">
          <p class="copyright">Copyright &copy;      2018.
  Hippo B.V. All rights reserved.
</p>
    </div>
            </div>
  </footer>
    </body>
</html>

